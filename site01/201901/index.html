<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>帅帅</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!--标准mui.css-->
		<link rel="stylesheet" href="./css/mui.min.css">
		<!--App自定义的css-->
		<link rel="stylesheet" type="text/css" href="./css/app.css"/>
		<style>
			.mui-bar.mui-bar-nav {
				background-color: #cd2525;
			}
			
			.mui-bar.mui-bar-nav .mui-title {
				color: #eeeeee;
			}
			
			.title{
				margin: 20px 15px 10px;
				color: #6d6d72;
				font-size: 15px;
			}
			
			.oa-contact-cell.mui-table .mui-table-cell {
				padding: 11px 0;
				vertical-align: middle;
			}
			
			.oa-contact-cell {
				position: relative;
				margin: -11px 0;
			}
	
			.oa-contact-avatar {
				width: 75px;
			}
			.oa-contact-avatar img {
				border-radius: 50%;
			}
			.oa-contact-content {
				width: 100%;
			}
			.oa-contact-name {
				margin-right: 20px;
			}
			.oa-contact-name, oa-contact-position {
				float: left;
			}
			.mui-bar .mui-tab-item.mui-active {
				color: #cd2525;
			}
			#tabbar .mui-table-view-cell.mui-media a{
				padding: 0;
			}
			#pullrefresh li {
				height: 90px;
			}
			#pullrefresh li a {
				height: 90px;
				padding-right: 40px;
			}
			#pullrefresh li a div {
				margin-top: 6px;
			}
			#pullrefresh li a img {
				max-width: 66px;
				height: 66px;
			}
			#tabbar-with-chat #pullrefresh .mui-pull-top-pocket.mui-block {
				top: 0;
			}
			#mui-page-content ul {
				margin-top: 18px;
			}
			.chart {
				height: 200px;
				margin: 0px;
				padding: 0px;
			}
			h5 {
				margin-top: 30px;
				font-weight: bold;
			}
			h5:first-child {
				margin-top: 15px;
			}
			#tabbar-with-contact .mui-content-padded .zr-element {
				width: 355px;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<h1 class="mui-title" id="mui-title">首页</h1>
		</header>
		<nav class="mui-bar mui-bar-tab" id="tabBar">
			<a class="mui-tab-item mui-active" id="shouye" href="#tabbar">
				<span class="mui-icon mui-icon-qq"></span>
				<span class="mui-tab-label">首页</span>
			</a>
			<a class="mui-tab-item" id="xinwen" href="#tabbar-with-chat">
				<span class="mui-icon mui-icon-weixin"><span class="mui-badge">9</span></span>
				<span class="mui-tab-label">新闻</span>
			</a>
			<a class="mui-tab-item" id="tongji" href="#tabbar-with-contact">
				<span class="mui-icon mui-icon-pengyouquan"></span>
				<span class="mui-tab-label">统计</span>
			</a>
			<a class="mui-tab-item" id="shezhi" href="#tabbar-with-map">
				<span class="mui-icon mui-icon-gear"></span>
				<span class="mui-tab-label">设置</span>
			</a>
		</nav>
		
		
		
		<div class="mui-content">
			<!-- 第一页 开始 -->
			<div id="tabbar" class="mui-control-content mui-active" >
				
				<div id="slider" class="mui-slider" style="height:220px;">
					<div class="mui-slider-group mui-slider-loop">
						<div class="mui-slider-item mui-slider-item-duplicate">
							<a href="#">
								<img src="./images/yuantiao.jpg">
							</a>
						</div>
						<div class="mui-slider-item">
							<a href="#">
								<img src="./images/shuijiao.jpg">
							</a>
						</div>
						<div class="mui-slider-item">
							<a href="#">
								<img src="./images/muwu.jpg">
							</a>
						</div>
						<div class="mui-slider-item">
							<a href="#">
								<img src="./images/cbd.jpg">
							</a>
						</div>
						<div class="mui-slider-item">
							<a href="#">
								<img src="./images/yuantiao.jpg">
							</a>
						</div>
						<div class="mui-slider-item mui-slider-item-duplicate">
							<a href="#">
								<img src="./images/shuijiao.jpg">
							</a>
						</div>
					</div>
					<div class="mui-slider-indicator">
						<div class="mui-indicator mui-active"></div>
						<div class="mui-indicator"></div>
						<div class="mui-indicator"></div>
						<div class="mui-indicator"></div>
					</div>
				</div>
				
				<ul class="mui-table-view mui-grid-view mui-grid-9">
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="./login/login.html">
										<img class="mui-icon" src="./images/icon_01.png" style="width:66%;">
				            <div class="mui-media-body">登录</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_02.png" style="width:66%;">
				            <div class="mui-media-body">Email</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_03.png" style="width:66%;">
				            <div class="mui-media-body">Chat</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_04.png" style="width:66%;">
				            <div class="mui-media-body">location</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_05.png" style="width:66%;">
				            <div class="mui-media-body">Search</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_06.png" style="width:66%;">
				            <div class="mui-media-body">Phone</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_07.png" style="width:66%;">
				            <div class="mui-media-body">Setting</div></a></li>
				    <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_08.png" style="width:66%;">
				            <div class="mui-media-body">about</div></a></li>
				   <li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"><a href="#">
				            <img class="mui-icon" src="./images/icon_09.png" style="width:66%;">
				            <div class="mui-media-body">more</div></a></li>
				</ul>
				
			</div>
			<!-- 第一页 结束 -->
			
			<!-- 第二页 开始 -->
			<div id="tabbar-with-chat" class="mui-control-content">
				
				<!--下拉刷新容器-->
				<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
					<div class="mui-scroll">
						<!--数据列表-->
						<ul class="mui-table-view mui-table-view2 mui-table-view-chevron">
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
							<li class="mui-table-view-cell mui-table-view-cell2 mui-media">
								<a class="mui-navigate-right">
									<img class="mui-media-object mui-pull-left" src="./images/cbd.jpg">
									<div class="mui-media-body">
										ABC
										<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
									</div>
								</a>
							</li>
						</ul>
					</div>
				</div>
				
			</div>
			
			
			
			<!-- 第三页 开始 -->
			<div id="tabbar-with-contact" class="mui-control-content">
				<div class="mui-content-padded">
					<h5>柱图示例</h5>
					<div class="chart" id="barChart"></div>
					<h5>线图示例</h5>
					<div class="chart" id="lineChart"></div>
					<h5>饼图示例</h5>
					<div class="chart" id="pieChart"></div>
				</div>
			</div>
			
			
			
			<!-- 第四页 开始 -->
			<div id="tabbar-with-map" class="mui-control-content">
				<!--页面主内容区开始-->
				<div id="mui-page-content" class="mui-page-content">
					<div class="mui-scroll-wrapper">
						<div class="mui-scroll">
							<ul class="mui-table-view mui-table-view-chevron">
								<li class="mui-table-view-cell mui-media">
									<a class="mui-navigate-right" href="#account">
										<img class="mui-media-object mui-pull-left head-img" id="head-img" src="./images/user.jpg">
										<div class="mui-media-body">
											帅帅
											<p class='mui-ellipsis'>账号:shuai123</p>
										</div>
									</a>
								</li>
							</ul>
							<ul class="mui-table-view mui-table-view-chevron">
								<li class="mui-table-view-cell">
									<a href="#" class="mui-navigate-right">账号与安全</a>
								</li>
							</ul>
							<ul class="mui-table-view mui-table-view-chevron">
								<li class="mui-table-view-cell">
									<a href="#" class="mui-navigate-right">新消息通知</a>
								</li>
								<li class="mui-table-view-cell">
									<a href="#" class="mui-navigate-right">隐私</a>
								</li>
								<li class="mui-table-view-cell">
									<a href="#" class="mui-navigate-right">通用</a>
								</li>
							</ul>
							<ul class="mui-table-view mui-table-view-chevron">
								<li class="mui-table-view-cell">
									<a href="#" class="mui-navigate-right">关于 <i class="mui-pull-right update">V1.0.0</i></a>
								</li>
							</ul>
							<ul class="mui-table-view">
								<li class="mui-table-view-cell" style="text-align: center;">
									<a>退出登录</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<!--页面主内容区结束-->
			</div>
		</div>
	</body>
	<script src="./js/mui.min.js"></script>
	<script src="./libs/echarts-all.js"></script>
	<script>
		mui.init(
		{
			swipeBack:true ,//启用右滑关闭功能
			pullRefresh: {
				container: '#pullrefresh',
				down: {
					callback: pulldownRefresh
				},
				up: {
					contentrefresh: '正在加载...',
					callback: pullupRefresh
				}
			}
		});
		var slider = mui("#slider");
		slider.slider({
			interval: 2000
		});
// 		var tabArr = document.getElementsByClassName("mui-bar-tab");
// 		console.log(tabArr)
// 		tabArr[0].onclick = function(){
// 			console.log(this);
// 		}
// 		tabArr[0].addEventListener("click", function(){
// 			console.log(this);
// 		})
	
		/**
		 * 下拉刷新具体业务实现
		 */
		function pulldownRefresh() {
			setTimeout(function() {
				var table = document.body.querySelector('.mui-table-view2');
				var cells = document.body.querySelectorAll('.mui-table-view-cell2');
				for (var i = cells.length, len = i + 3; i < len; i++) {
					var li = document.createElement('li');
					li.className = 'mui-table-view-cell mui-table-view-cell2 mui-media';
					li.innerHTML = '<a class="mui-navigate-right"><img class="mui-media-object mui-pull-left" src="./images/cbd.jpg"><div class="mui-media-body">刷新-ABC<p class=""mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p></div></a>';
					//下拉刷新，新纪录插到最前面；
					table.insertBefore(li, table.firstChild);
				}
				mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
			}, 1500);
		}
		var count = 0;
		/**
		 * 上拉加载具体业务实现
		 */
		function pullupRefresh() {
			setTimeout(function() {
				mui('#pullrefresh').pullRefresh().endPullupToRefresh((++count > 5)); //参数为true代表没有更多数据了。
				var table = document.body.querySelector('.mui-table-view2');
				var cells = document.body.querySelectorAll('.mui-table-view-cell2');
				for (var i = cells.length, len = i + 3; i < len; i++) {
					var li = document.createElement('li');
					li.className = 'mui-table-view-cell mui-table-view-cell2 mui-media';
					li.innerHTML = '<a class="mui-navigate-right"><img class="mui-media-object mui-pull-left" src="./images/cbd.jpg"><div class="mui-media-body">加载-ABC<p class="mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p></div></a>';
					table.appendChild(li);
				}
			}, 1500);
		}

		
// 		document.getElementById("tongji").addEventListener('click', function(e){
// 			initTJ();
// 		})
		mui("#tabBar").on('tap', 'a', function(e){
			var id = this.getAttribute('id');
			if(id==='tongji'){
				document.getElementById("mui-title").innerHTML = "统计";
				initTJ();
			}else if(id==='shouye'){
				document.getElementById("mui-title").innerHTML = "首页";
			}else if(id==='xinwen'){
				document.getElementById("mui-title").innerHTML = "新闻";
			}else if(id==='shezhi'){
				document.getElementById("mui-title").innerHTML = "设置";
			}
		})
		
		var outh = window.outerHeight-95;
		document.getElementById("pullrefresh").style.height = outh+"px";
		document.getElementById("mui-page-content").style.height = outh+"px";
		
		
		
		function initTJ(){
			var getOption = function(chartType) {
				var chartOption = chartType == 'pie' ? {
					calculable: false,
					series: [{
						name: '访问来源',
						type: 'pie',
						radius: '65%',
						center: ['50%', '50%'],
						data: [{
							value: 335,
							name: '直接访问'
						}, {
							value: 310,
							name: '邮件营销'
						}, {
							value: 234,
							name: '联盟广告'
						}, {
							value: 135,
							name: '视频广告'
						}, {
							value: 1548,
							name: '搜索引擎'
						}]
					}]
				} : {
					legend: {
						data: ['2018', '2019']
					},
					grid: {
						x: 35,
						x2: 10,
						y: 30,
						y2: 25
					},
					toolbox: {
						show: false,
						feature: {
							mark: {
								show: true
							},
							dataView: {
								show: true,
								readOnly: false
							},
							magicType: {
								show: true,
								type: ['line', 'bar']
							},
							restore: {
								show: true
							},
							saveAsImage: {
								show: true
							}
						}
					},
					calculable: false,
					xAxis: [{
						type: 'category',
						data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
					}],
					yAxis: [{
						type: 'value',
						splitArea: {
							show: true
						}
					}],
					series: [{
						name: '2018',
						type: chartType,
						data: [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]
					}, {
						name: '2019',
						type: chartType,
						data: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]
					}]
				};
				return chartOption;
			};
			var byId = function(id) {
				return document.getElementById(id);
			};
			var barChart = echarts.init(byId('barChart'));
			barChart.setOption(getOption('bar'));
			var lineChart = echarts.init(byId('lineChart'));
			lineChart.setOption(getOption('line'));
			var pieChart = echarts.init(byId('pieChart'));
			pieChart.setOption(getOption('pie'));
		}
	</script>
</html>